{"ast":null,"code":"var _slicedToArray = require(\"@babel/runtime/helpers/slicedToArray\");\nvar plugin = require(\"./lib/sqlite.core.js\");\nvar SQLiteFactory = plugin.SQLiteFactory;\nvar config = [[false, \"SQLitePlugin\", \"transaction\", false, true, true], [false, \"SQLitePlugin\", \"readTransaction\", false, true, true], [false, \"SQLitePlugin\", \"close\", false, false, true], [false, \"SQLitePlugin\", \"executeSql\", true, false, true], [false, \"SQLitePlugin\", \"sqlBatch\", false, false, true], [false, \"SQLitePlugin\", \"attach\", true, false, true], [false, \"SQLitePlugin\", \"detach\", false, false, true], [false, \"SQLitePluginTransaction\", \"executeSql\", true, false, false], [false, \"SQLiteFactory\", \"deleteDatabase\", false, false, true], [true, \"SQLiteFactory\", \"openDatabase\", false, false, true], [false, \"SQLiteFactory\", \"echoTest\", false, false, true]];\nvar originalFns = {};\nconfig.forEach(function (entry) {\n  var _entry = _slicedToArray(entry, 3),\n    returnValueExpected = _entry[0],\n    prototype = _entry[1],\n    fn = _entry[2];\n  var originalFn = plugin[prototype].prototype[fn];\n  originalFns[prototype + \".\" + fn] = originalFn;\n});\nfunction enablePromiseRuntime(enable) {\n  if (enable) {\n    createPromiseRuntime();\n  } else {\n    createCallbackRuntime();\n  }\n}\nfunction createCallbackRuntime() {\n  config.forEach(function (entry) {\n    var _entry2 = _slicedToArray(entry, 6),\n      returnValueExpected = _entry2[0],\n      prototype = _entry2[1],\n      fn = _entry2[2],\n      argsNeedPadding = _entry2[3],\n      reverseCallbacks = _entry2[4],\n      rejectOnError = _entry2[5];\n    plugin[prototype].prototype[fn] = originalFns[prototype + \".\" + fn];\n  });\n  plugin.log(\"Callback based runtime ready\");\n}\nfunction createPromiseRuntime() {\n  config.forEach(function (entry) {\n    var _entry3 = _slicedToArray(entry, 6),\n      returnValueExpected = _entry3[0],\n      prototype = _entry3[1],\n      fn = _entry3[2],\n      argsNeedPadding = _entry3[3],\n      reverseCallbacks = _entry3[4],\n      rejectOnError = _entry3[5];\n    var originalFn = plugin[prototype].prototype[fn];\n    plugin[prototype].prototype[fn] = function () {\n      var _this = this;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      if (argsNeedPadding && args.length == 1) {\n        args.push([]);\n      }\n      var promise = new Promise(function (resolve, reject) {\n        var success = function success() {\n          if (!returnValueExpected) {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            return resolve(args);\n          }\n        };\n        var error = function error(err) {\n          plugin.log.apply(plugin, ['error: ', fn].concat(args, [arguments]));\n          if (rejectOnError) {\n            reject(err);\n          }\n          return false;\n        };\n        var retValue = originalFn.call.apply(originalFn, [_this].concat(args, [reverseCallbacks ? error : success, reverseCallbacks ? success : error]));\n        if (returnValueExpected) {\n          return resolve(retValue);\n        }\n      });\n      return promise;\n    };\n  });\n  plugin.log(\"Promise based runtime ready\");\n}\nSQLiteFactory.prototype.enablePromise = enablePromiseRuntime;\nmodule.exports = new SQLiteFactory();","map":{"version":3,"names":["plugin","require","SQLiteFactory","config","originalFns","forEach","entry","returnValueExpected","prototype","fn","originalFn","enablePromiseRuntime","enable","createPromiseRuntime","createCallbackRuntime","argsNeedPadding","reverseCallbacks","rejectOnError","log","args","length","push","promise","Promise","resolve","reject","success","error","err","arguments","retValue","call","enablePromise","module","exports"],"sources":["D:/6Semestre/TrabalhoDeConclusao/node_modules/react-native-sqlite-storage/sqlite.js"],"sourcesContent":["/*\n * sqlite.js\n *\n * Created by Andrzej Porebski on 10/29/15.\n * Copyright (c) 2015-16 Andrzej Porebski.\n *\n * This library is available under the terms of the MIT License (2008).\n * See http://opensource.org/licenses/alphabetical for full text.\n */\nvar plugin = require('./lib/sqlite.core.js');\nvar {SQLiteFactory} = plugin;\n\nvar config = [\n\n  // meaning: [returnValueExpected,prototype,fn,argsNeedPadding,reverseCallbacks,rejectOnError]\n\n  [false,\"SQLitePlugin\",\"transaction\",false,true,true],\n  [false,\"SQLitePlugin\",\"readTransaction\",false,true,true],\n  [false,\"SQLitePlugin\",\"close\",false,false,true],\n  [false,\"SQLitePlugin\",\"executeSql\",true,false,true],\n  [false,\"SQLitePlugin\",\"sqlBatch\",false,false,true],\n  [false,\"SQLitePlugin\",\"attach\",true,false,true],\n  [false,\"SQLitePlugin\",\"detach\",false,false,true],\n  [false,\"SQLitePluginTransaction\",\"executeSql\",true,false,false],\n  [false,\"SQLiteFactory\",\"deleteDatabase\",false,false,true],\n  [true, \"SQLiteFactory\",\"openDatabase\",false,false,true],\n  [false,\"SQLiteFactory\",\"echoTest\",false,false,true]\n];\n\nvar originalFns = {};\nconfig.forEach(entry => {\n  let [returnValueExpected,prototype,fn]= entry;\n  let originalFn = plugin[prototype].prototype[fn];\n  originalFns[prototype + \".\" + fn] = originalFn;\n});\n\nfunction enablePromiseRuntime(enable){\n  if (enable){\n    createPromiseRuntime();\n  } else {\n    createCallbackRuntime();\n  }\n}\nfunction createCallbackRuntime() {\n  config.forEach(entry => {\n    let [returnValueExpected,prototype,fn,argsNeedPadding,reverseCallbacks,rejectOnError]= entry;\n    plugin[prototype].prototype[fn] = originalFns[prototype + \".\" + fn];\n  });\n  plugin.log(\"Callback based runtime ready\");\n}\nfunction createPromiseRuntime() {\n  config.forEach(entry => {\n    let [returnValueExpected,prototype,fn,argsNeedPadding,reverseCallbacks,rejectOnError]= entry;\n    let originalFn = plugin[prototype].prototype[fn];\n    plugin[prototype].prototype[fn] = function(...args){\n      if (argsNeedPadding && args.length == 1){\n        args.push([]);\n      }\n      var promise = new Promise((resolve,reject) => {\n        let success = function(...args){\n          if (!returnValueExpected) {\n           return resolve(args);\n          }\n        };\n        let error = function(err){\n          plugin.log('error: ',fn,...args,arguments);\n          if (rejectOnError) {\n            reject(err);\n          }\n          return false;\n        };\n        var retValue = originalFn.call(this,...args,reverseCallbacks ? error : success, reverseCallbacks ? success : error);\n        if (returnValueExpected){\n          return resolve(retValue);\n        }\n      });\n\n      return promise;\n    }\n  });\n  plugin.log(\"Promise based runtime ready\");\n}\nSQLiteFactory.prototype.enablePromise = enablePromiseRuntime;\n\nmodule.exports = new SQLiteFactory();\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}